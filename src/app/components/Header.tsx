import dynamic from 'next/dynamic';
import Link from 'next/link';
import MobileMenu from './MobileMenu';

// Importamos AuthButton con SSR deshabilitado
const AuthButton = dynamic(() => import('./AuthButton'), { 
  ssr: false,
  loading: () => <div className="w-10 h-10" /> // placeholder mientras carga
});

export default function Header() {
  return (
    <header className="bg-primary-light shadow-md px-4 py-4 sticky top-0 z-40 backdrop-blur-sm">
      <div className="flex items-center justify-between">
        {/* Logo alineado a la izquierda */}
        <Link href="/" className="block">
          <svg width="175" height="40" viewBox="0 0 657 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.9759 68.0593H35.6574V77.0752H5.60447V20.3807H16.9759V68.0593ZM84.7156 53.6014C84.7156 55.2259 84.6073 56.6879 84.3907 57.9875H51.4949C51.7656 61.2365 52.9028 63.7815 54.9063 65.6226C56.9098 67.4637 59.3736 68.3842 62.2977 68.3842C66.5213 68.3842 69.5266 66.5702 71.3136 62.9422H83.5784C82.2788 67.2741 79.788 70.848 76.1058 73.6638C72.4236 76.4254 67.9022 77.8062 62.5414 77.8062C58.2094 77.8062 54.3106 76.8586 50.8451 74.9634C47.4337 73.014 44.7533 70.2794 42.8039 66.7597C40.9086 63.24 39.961 59.1788 39.961 54.5761C39.961 49.9192 40.9086 45.831 42.8039 42.3112C44.6991 38.7915 47.3524 36.0841 50.7638 34.1888C54.1753 32.2936 58.1011 31.346 62.5414 31.346C66.8192 31.346 70.6367 32.2665 73.994 34.1076C77.4054 35.9487 80.0316 38.5749 81.8727 41.9863C83.7679 45.3436 84.7156 49.2153 84.7156 53.6014ZM72.938 50.3524C72.8839 47.4284 71.828 45.0999 69.7703 43.3672C67.7126 41.5802 65.1947 40.6868 62.2165 40.6868C59.4007 40.6868 57.0181 41.5532 55.0687 43.2859C53.1735 44.9646 52.0093 47.3201 51.5761 50.3524H72.938ZM110.641 31.346C113.999 31.346 116.95 32.0228 119.495 33.3766C122.04 34.6762 124.043 36.3819 125.505 38.4937V32.077H136.958V77.4001C136.958 81.5696 136.119 85.2788 134.44 88.5278C132.761 91.8309 130.243 94.4301 126.886 96.3253C123.529 98.2747 119.468 99.2494 114.703 99.2494C108.313 99.2494 103.06 97.7603 98.945 94.7821C94.8838 91.8038 92.5825 87.7426 92.041 82.5984H103.331C103.927 84.6561 105.199 86.2806 107.149 87.4719C109.152 88.7173 111.562 89.34 114.378 89.34C117.681 89.34 120.361 88.3383 122.419 86.3348C124.476 84.3854 125.505 81.4072 125.505 77.4001V70.4148C124.043 72.5266 122.013 74.2865 119.414 75.6944C116.868 77.1023 113.944 77.8062 110.641 77.8062C106.851 77.8062 103.385 76.8315 100.245 74.8821C97.1039 72.9328 94.6131 70.1982 92.772 66.6785C90.985 63.1046 90.0916 59.0164 90.0916 54.4136C90.0916 49.8651 90.985 45.831 92.772 42.3112C94.6131 38.7915 97.0769 36.0841 100.163 34.1888C103.304 32.2936 106.797 31.346 110.641 31.346ZM125.505 54.5761C125.505 51.8145 124.964 49.459 123.881 47.5096C122.798 45.5061 121.336 43.9899 119.495 42.961C117.654 41.878 115.677 41.3366 113.565 41.3366C111.454 41.3366 109.504 41.851 107.717 42.8798C105.93 43.9087 104.468 45.4248 103.331 47.4284C102.248 49.3777 101.707 51.7062 101.707 54.4136C101.707 57.1211 102.248 59.5037 103.331 61.5614C104.468 63.5649 105.93 65.1082 107.717 66.1912C109.558 67.2741 111.508 67.8156 113.565 67.8156C115.677 67.8156 117.654 67.3012 119.495 66.2724C121.336 65.1894 122.798 63.6732 123.881 61.7238C124.964 59.7203 125.505 57.3377 125.505 54.5761ZM145.14 54.4136C145.14 49.8651 146.033 45.831 147.82 42.3112C149.661 38.7915 152.125 36.0841 155.212 34.1888C158.352 32.2936 161.845 31.346 165.69 31.346C169.047 31.346 171.971 32.0228 174.462 33.3766C177.007 34.7303 179.038 36.436 180.554 38.4937V32.077H192.006V77.0752H180.554V70.496C179.092 72.6079 177.061 74.3677 174.462 75.7756C171.917 77.1293 168.966 77.8062 165.608 77.8062C161.818 77.8062 158.352 76.8315 155.212 74.8821C152.125 72.9328 149.661 70.1982 147.82 66.6785C146.033 63.1046 145.14 59.0164 145.14 54.4136ZM180.554 54.5761C180.554 51.8145 180.012 49.459 178.929 47.5096C177.846 45.5061 176.384 43.9899 174.543 42.961C172.702 41.878 170.726 41.3366 168.614 41.3366C166.502 41.3366 164.553 41.851 162.766 42.8798C160.979 43.9087 159.517 45.4248 158.38 47.4284C157.297 49.3777 156.755 51.7062 156.755 54.4136C156.755 57.1211 157.297 59.5037 158.38 61.5614C159.517 63.5649 160.979 65.1082 162.766 66.1912C164.607 67.2741 166.556 67.8156 168.614 67.8156C170.726 67.8156 172.702 67.3012 174.543 66.2724C176.384 65.1894 177.846 63.6732 178.929 61.7238C180.012 59.7203 180.554 57.3377 180.554 54.5761ZM214.484 16.9693V77.0752H203.112V16.9693H214.484Z" fill="#303136"/>
            <path d="M339.884 10.4502C346.042 10.6493 350.614 13.74 353.82 19.2114L378.663 61.9528C383.438 70.3244 381.194 80.3064 373.517 85.0333C365.478 89.9853 355.853 87.466 350.892 79.0164L326.724 37.3746C323.172 31.3577 322.076 25.3322 325.526 18.995C328.596 13.3591 333.455 10.632 339.884 10.4502Z" fill="#4570EB"/>
            <path d="M325.209 64.3139C328.213 71.0666 326.542 79.2132 320.899 83.8449C316.748 87.2472 311.122 88.6151 305.714 86.6152C302.171 85.308 298.847 83.3514 295.456 81.6373C288.724 78.2349 281.984 78.0618 275.193 81.4555C272.038 83.0311 268.917 84.676 265.703 86.0958C259.064 89.022 252.906 87.6888 248.021 82.4337C243.12 77.1614 241.77 70.149 245.313 63.7339C251.809 51.9599 258.752 40.4456 265.484 28.8101C267.348 25.5982 269.103 22.3171 271.001 19.1139C277.403 8.30949 291.711 7.4957 298.308 18.1096C307.511 32.9137 316.048 48.1593 324.703 63.3097C324.889 63.63 325.058 63.9676 325.209 64.3139Z" fill="#4570EB"/>
            <path d="M276.238 47.6589C279.63 46.1006 282.084 43.5813 283.586 40.0578C284.117 38.8198 285.813 38.8371 286.361 40.0578C287.07 41.6507 288.023 43.1052 289.306 44.4038C290.638 45.763 292.123 46.7759 293.751 47.5291C294.949 48.0745 294.949 49.8059 293.76 50.3687C292.148 51.1219 290.672 52.1521 289.373 53.5373C288.133 54.8618 287.171 56.3249 286.471 57.9092C285.923 59.1472 284.236 59.1732 283.687 57.9352C282.152 54.4636 279.68 51.9962 276.255 50.4899C275.057 49.9618 275.049 48.1957 276.238 47.6503V47.6589Z" fill="white"/>
            <path d="M451.974 87.0658L443.364 76.7503C440.982 77.3459 438.545 77.6438 436.054 77.6438C430.747 77.6438 425.874 76.3983 421.434 73.9075C416.993 71.4166 413.474 67.9781 410.874 63.592C408.275 59.1517 406.976 54.1429 406.976 48.5655C406.976 43.0423 408.275 38.0876 410.874 33.7015C413.474 29.2612 416.993 25.7957 421.434 23.3048C425.874 20.8139 430.747 19.5685 436.054 19.5685C441.415 19.5685 446.288 20.8139 450.674 23.3048C455.115 25.7957 458.607 29.2612 461.152 33.7015C463.751 38.0876 465.051 43.0423 465.051 48.5655C465.051 53.6014 463.968 58.2041 461.802 62.3736C459.69 66.489 456.793 69.8462 453.111 72.4454L466.107 87.0658H451.974ZM418.672 48.5655C418.672 52.356 419.403 55.6862 420.865 58.5561C422.327 61.426 424.358 63.6461 426.957 65.2165C429.61 66.7326 432.643 67.4907 436.054 67.4907C439.465 67.4907 442.471 66.7326 445.07 65.2165C447.669 63.6461 449.7 61.426 451.162 58.5561C452.624 55.6862 453.355 52.356 453.355 48.5655C453.355 44.775 452.624 41.4719 451.162 38.6562C449.7 35.7862 447.669 33.5932 445.07 32.077C442.471 30.5608 439.465 29.8027 436.054 29.8027C432.643 29.8027 429.61 30.5608 426.957 32.077C424.358 33.5932 422.327 35.7862 420.865 38.6562C419.403 41.4719 418.672 44.775 418.672 48.5655ZM516.15 32.077V77.0752H504.697V71.3895C503.235 73.3389 501.313 74.8821 498.93 76.0193C496.602 77.1023 494.057 77.6438 491.295 77.6438C487.776 77.6438 484.662 76.9127 481.954 75.4507C479.247 73.9345 477.108 71.7415 475.538 68.8716C474.022 65.9475 473.263 62.4819 473.263 58.4749V32.077H484.635V56.8504C484.635 60.4242 485.528 63.1859 487.315 65.1352C489.102 67.0305 491.539 67.9781 494.625 67.9781C497.766 67.9781 500.23 67.0305 502.017 65.1352C503.804 63.1859 504.697 60.4242 504.697 56.8504V32.077H516.15ZM547.351 77.8062C543.019 77.8062 539.12 76.8586 535.654 74.9634C532.189 73.014 529.454 70.2794 527.451 66.7597C525.501 63.24 524.527 59.1788 524.527 54.5761C524.527 49.9734 525.528 45.9122 527.532 42.3925C529.59 38.8728 532.378 36.1653 535.898 34.2701C539.418 32.3207 543.344 31.346 547.676 31.346C552.008 31.346 555.933 32.3207 559.453 34.2701C562.973 36.1653 565.734 38.8728 567.738 42.3925C569.796 45.9122 570.825 49.9734 570.825 54.5761C570.825 59.1788 569.769 63.24 567.657 66.7597C565.599 70.2794 562.783 73.014 559.209 74.9634C555.69 76.8586 551.737 77.8062 547.351 77.8062ZM547.351 67.8969C549.408 67.8969 551.331 67.4095 553.118 66.4348C554.959 65.406 556.421 63.8898 557.504 61.8863C558.587 59.8827 559.128 57.446 559.128 54.5761C559.128 50.2983 557.991 47.0222 555.717 44.748C553.497 42.4195 550.762 41.2553 547.513 41.2553C544.264 41.2553 541.53 42.4195 539.31 44.748C537.144 47.0222 536.061 50.2983 536.061 54.5761C536.061 58.8539 537.116 62.157 539.228 64.4854C541.394 66.7597 544.102 67.8969 547.351 67.8969ZM592.405 41.4178V63.1859C592.405 64.702 592.757 65.8121 593.461 66.5161C594.219 67.1658 595.465 67.4907 597.198 67.4907H602.477V77.0752H595.329C585.745 77.0752 580.953 72.4183 580.953 63.1046V41.4178H575.592V32.077H580.953V20.9493H592.405V32.077H602.477V41.4178H592.405ZM652.487 53.6014C652.487 55.2259 652.378 56.6879 652.162 57.9875H619.266C619.537 61.2365 620.674 63.7815 622.677 65.6226C624.681 67.4637 627.145 68.3842 630.069 68.3842C634.292 68.3842 637.298 66.5702 639.085 62.9422H651.349C650.05 67.2741 647.559 70.848 643.877 73.6638C640.195 76.4254 635.673 77.8062 630.312 77.8062C625.98 77.8062 622.082 76.8586 618.616 74.9634C615.205 73.014 612.524 70.2794 610.575 66.7597C608.68 63.24 607.732 59.1788 607.732 54.5761C607.732 49.9192 608.68 45.831 610.575 42.3112C612.47 38.7915 615.123 36.0841 618.535 34.1888C621.946 32.2936 625.872 31.346 630.312 31.346C634.59 31.346 638.408 32.2665 641.765 34.1076C645.176 35.9487 647.803 38.5749 649.644 41.9863C651.539 45.3436 652.487 49.2153 652.487 53.6014ZM640.709 50.3524C640.655 47.4284 639.599 45.0999 637.541 43.3672C635.484 41.5802 632.966 40.6868 629.987 40.6868C627.172 40.6868 624.789 41.5532 622.84 43.2859C620.944 44.9646 619.78 47.3201 619.347 50.3524H640.709Z" fill="#303136"/>
          </svg>
        </Link>
        {/* Botón de menú para móviles y autenticación */}
        <div className="flex items-center gap-2">
          <MobileMenu />
          <AuthButton />
        </div>
      </div>
    </header>
  );
} 